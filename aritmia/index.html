<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Struktur Aritmia - Interactive Learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <style>
        .card-hover:hover {
            transform: translateY(-2px);
            transition: transform 0.2s ease-in-out;
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen p-4">
    <div class="max-w-6xl mx-auto">

        <div class="px-4 py-3 flex items-center">
            <button onclick="history.back();"
                class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm flex items-center">
                ← Kembali
            </button>
        </div>
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-8" id="mainTitle">Aritmia</h1>

        <!-- Main Container -->
        <div id="main-level" class="grid grid-cols-1 md:grid-cols-2 gap-4 section-level">
            <!-- 1. Pengantar Aritmia -->
            <div onclick="redirectPage('pengantar.html')" class="bg-white rounded-xl p-4 shadow-sm">
                <div class="w-full h-24 bg-blue-100 rounded-lg mb-3 flex items-center justify-center">
                    <span class="text-blue-600 text-2xl">📚</span>
                </div>
                <h3 class="font-semibold text-gray-800 text-sm text-center">1. Pengantar Aritmia</h3>
            </div>

            <!-- 2. Penyebab Aritmia -->
            <div onclick="showLevel('penyebab-aritmia')"
                class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                <div class="w-full h-24 bg-red-100 rounded-lg mb-3 flex items-center justify-center">
                    <span class="text-red-600 text-2xl">⚡</span>
                </div>
                <h3 class="font-semibold text-gray-800 text-sm text-center">2. Penyebab Aritmia</h3>
            </div>
        </div>

        <!-- Level 2: Penyebab Aritmia -->
        <div id="penyebab-aritmia" title="Penyebab Aritmia" class="hidden mt-6 section-level">

            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- a. Gangguan pembentukan impuls -->
                    <div onclick="showLevel('gangguan-pembentukan')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-green-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-green-600 text-2xl">🔄</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a. Gangguan pembentukan impuls</h3>
                    </div>

                    <!-- b. Gangguan Hantaran impuls -->
                    <div onclick="showLevel('gangguan-hantaran')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-orange-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-orange-600 text-2xl">🚫</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">b. Gangguan Hantaran impuls</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 3: Gangguan Pembentukan Impuls -->
        <div id="gangguan-pembentukan" title="Gangguan Pembentukan Impuls" class="hidden mt-6 section-level">

            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- 1) Nodus SA -->
                    <div onclick="showLevel('pembentukan-nodus-sa')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-blue-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-blue-600 text-2xl">🔵</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">1) Nodus SA</h3>
                    </div>

                    <!-- 2) Atrium -->
                    <div onclick="showLevel('pembentukan-atrium')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-purple-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-purple-600 text-2xl">💜</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">2) Atrium</h3>
                    </div>

                    <!-- 3) Nodus AV -->
                    <div onclick="showLevel('pembentukan-nodus-av')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-teal-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-teal-600 text-2xl">🟢</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">3) Nodus AV</h3>
                    </div>

                    <!-- 2) Supraventrikel -->
                    <div onclick="showLevel('pembentukan-supraventrikel')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-indigo-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-indigo-600 text-2xl">🔷</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">4) Supraventrikel</h3>
                    </div>

                    <!-- 3) Ventrikel -->
                    <div onclick="showLevel('pembentukan-ventrikel')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-red-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-red-600 text-2xl">❤️</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">5) Ventrikel</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 4: Nodus SA -->
        <div id="pembentukan-nodus-sa" title="Nodus SA" class="hidden mt-6 section-level">
            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('takikardi-sinus')">
                        <div class="w-full h-24 bg-green-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-green-600 text-2xl">⚡</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a) Takikardi Sinus (ST)</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('bradikardi-sinus')">
                        <div class="w-full h-24 bg-blue-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-blue-600 text-2xl">🐌</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">b) Bradikardi Sinus (SB)</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer" onclick="showDetail('aritmia-sinus')">
                        <div class="w-full h-24 bg-yellow-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-yellow-600 text-2xl">📊</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">c) Aritmia Sinus</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer" onclick="showDetail('sinus-arest')">
                        <div class="w-full h-24 bg-red-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-red-600 text-2xl">⏸️</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">d) Sinus Arest</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 4: Atrium -->
        <div id="pembentukan-atrium" title="Atrium" class="hidden mt-6 section-level">
            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('ekstrasistol-atrial')">
                        <div class="w-full h-24 bg-purple-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-purple-600 text-2xl">⚡</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a) Ekstrasistol atrial</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('takikardi-supraventrikel-svt')">
                        <div class="w-full h-24 bg-pink-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-pink-600 text-2xl">🏃‍♂️</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">b) Takikardi Supraventrikel</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('flutter-atrial')">
                        <div class="w-full h-24 bg-indigo-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-indigo-600 text-2xl">🌊</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">c) Flutter atrial</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('fibrilasi-atrial')">
                        <div class="w-full h-24 bg-orange-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-orange-600 text-2xl">💥</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">d) Fibrilasi atrial</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 4: Nodus AV -->
        <div id="pembentukan-nodus-av" title="Nodus AV" class="hidden mt-6 section-level">
            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('irama-junctional')">
                        <div class="w-full h-24 bg-teal-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-teal-600 text-2xl">🎵</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a) Irama Junctional (JR)</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('ekstrasistol-junctional')">
                        <div class="w-full h-24 bg-cyan-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-cyan-600 text-2xl">⚡</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">b) Ekstrasistol Junctional</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('takikardi-junctional')">
                        <div class="w-full h-24 bg-emerald-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-emerald-600 text-2xl">🏃‍♂️</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">c) Takikardi Junctional</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 4: Supraventrikel -->
        <div id="pembentukan-supraventrikel" title="Supraventrikel" class="hidden mt-6 section-level">
            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('ekstrasistol-supraventrikel')">
                        <div class="w-full h-24 bg-indigo-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-indigo-600 text-2xl">⚡</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a) Ekstrasistol Supraventrikel</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('takikardi-supraventrikel-paroksismal')">
                        <div class="w-full h-24 bg-violet-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-violet-600 text-2xl">🏃‍♂️</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">b) Takikardi supraventrikel</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 4: Ventrikel -->
        <div id="pembentukan-ventrikel" title="Ventrikel" class="hidden mt-6 section-level">
            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('irama-idioventrikuler')">
                        <div class="w-full h-24 bg-red-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-red-600 text-2xl">🎵</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a) Irama Idioventrikuler</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('ekstrasistol-ventrikuler')">
                        <div class="w-full h-24 bg-rose-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-rose-600 text-2xl">⚡</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">b) Ekstrasistol Ventrikuler</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('takikardi-ventrikel')">
                        <div class="w-full h-24 bg-pink-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-pink-600 text-2xl">🏃‍♂️</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">c) Takikardi Ventrikel</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('fibrilasi-ventrikel')">
                        <div class="w-full h-24 bg-red-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-red-600 text-2xl">💥</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">d) Fibrilasi Ventrikel</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 3: Gangguan Hantaran Impuls -->
        <div id="gangguan-hantaran" title="Gangguan Hantaran Impuls" class="hidden mt-6 section-level">

            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <!-- 1) Nodus SA -->
                    <div onclick="showLevel('hantaran-nodus-sa')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-blue-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-blue-600 text-2xl">🔵</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">1) Nodus SA</h3>
                    </div>

                    <!-- 2) Nodus AV -->
                    <div onclick="showLevel('hantaran-nodus-av')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-teal-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-teal-600 text-2xl">🟢</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">2) Nodus AV</h3>
                    </div>

                    <!-- 3) Interventrikuler -->
                    <div onclick="showLevel('hantaran-interventrikuler')"
                        class="bg-white rounded-xl p-4 shadow-sm cursor-pointer card-hover">
                        <div class="w-full h-24 bg-orange-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-orange-600 text-2xl">🔶</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">3) Interventrikuler</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 4: SA Blok -->
        <div id="hantaran-nodus-sa" title="Nodus SA" class="hidden mt-6 section-level">
            <div class="nested-container">
                <div class="grid grid-cols-1 gap-4">
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer" onclick="showDetail('blok-sinoatrial-sa-blok')">
                        <div class="w-full h-24 bg-blue-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-blue-600 text-2xl">🚫</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a) Blok sinoatrial (SA Blok)</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 4: AV Blok -->
        <div id="hantaran-nodus-av" title="Nodus AV" class="hidden mt-6 section-level">
            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer" onclick="showDetail('blok-av-derajat-I')">
                        <div class="w-full h-24 bg-yellow-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-yellow-600 text-2xl">1️⃣</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a) Blok AV derajat I</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('blok-av-derajat-2-mobitz-I-wenckebach')">
                        <div class="w-full h-24 bg-orange-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-orange-600 text-2xl">2️⃣</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">b) Blok AV derajat 2 mobitz I
                            (Wenckebach)</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer"
                        onclick="showDetail('blok-av-derajat-2-mobitz-II')">
                        <div class="w-full h-24 bg-red-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-red-600 text-2xl">2️⃣</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">c) Blok AV derajat 2 mobitz II</h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer" onclick="showDetail('blok-av-derajat-III-total-av-blok')">
                        <div class="w-full h-24 bg-gray-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-gray-600 text-2xl">3️⃣</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">d) Blok AV derajat 3 (Total AV blok)
                        </h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level 4: Interventrikuler -->
        <div id="hantaran-interventrikuler" title="Interventrikuler" class="hidden mt-6 section-level">
            <div class="nested-container">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer" onclick="showDetail('right-bundle-branch-block')">
                        <div class="w-full h-24 bg-blue-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-blue-600 text-2xl">➡️</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a) Right bundle branch block (RBBB)
                        </h3>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm cursor-pointer" onclick="showDetail('left-bundle-branch-block')">
                        <div class="w-full h-24 bg-red-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-red-600 text-2xl">⬅️</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">b) Left bundle branch block (LBBB)
                        </h3>
                    </div>
                </div>
            </div>
        </div>

        <div id="detail-section" title="" class="section-level hidden bg-white rounded-xl p-6 shadow-sm cursor-pointer">
            <div id="detail-content" class="text-gray-700 text-justify"></div>
        </div>

    </div>

    <script src="details.js"></script>
    <script>
        const navStack = []; // stack riwayat navigasi

        function redirectPage(route) {
            window.location.href = route;
        }

        function toTitleCase(key) {
            return key
                .replace(/-/g, ' ') // ganti tanda - jadi spasi
                .split(' ')
                .map(word => {
                    // Kalau word adalah angka Romawi, biarkan seperti aslinya (uppercase)
                    if (/^(I|II|III|IV|V|VI|VII|VIII|IX|X)$/i.test(word)) {
                        return word.toUpperCase();
                    }
                    // Kalau bukan, buat Title Case
                    return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
                })
                .join(' ');
        }

        function showDetail(key) {
            // Isi konten detail
            $("#detail-content").html(details[key] || "<p>Konten belum tersedia</p>");
            $("#detail-content").removeClass("hidden");

            let title = toTitleCase(key);
            $("#detail-section").attr("title", title);

            // Tampilkan detail-section sebagai level 5
            showLevel('detail-section');
        }

        function showLevel(levelId) {
            // Cari yang sedang tampil sekarang
            const currentVisible = document.querySelector('.section-level:not(.hidden)');
            if (currentVisible && currentVisible.id !== levelId) {
                navStack.push(currentVisible.id); // simpan ke stack
                currentVisible.classList.add('hidden');
            }

            // Tampilkan level baru
            document.getElementById(levelId).classList.remove('hidden');
            let title = $('#' + levelId).attr('title');
            $("#mainTitle").html(title).removeClass('hidden');

            // Atur tombol kembali
            updateBackButton();

            // Scroll ke atas
            window.scrollTo(0, 0);
        }

        function goBack() {
            if (navStack.length > 0) {
                const lastId = navStack.pop(); // ambil level sebelumnya

                // Sembunyikan semua level
                document.querySelectorAll('.section-level').forEach(sec => sec.classList.add('hidden'));

                // Tampilkan level sebelumnya
                const prevSec = document.getElementById(lastId);
                prevSec.classList.remove('hidden');

                // Update judul sesuai title atribut di section sebelumnya
                let title = $('#' + lastId).attr('title') || "Aritmia";
                $("#mainTitle").html(title).removeClass('hidden');

                updateBackButton();
            } else {
                // Kalau stack kosong, balik ke main-level
                document.querySelectorAll('.section-level').forEach(sec => sec.classList.add('hidden'));
                document.getElementById('main-level').classList.remove('hidden');

                // Reset title ke default
                $("#mainTitle").html("Aritmia").removeClass('hidden');
                updateBackButton();
            }
        }

        function updateBackButton() {
            const btn = document.querySelector('button[onclick]');
            if (navStack.length > 0) {
                btn.setAttribute('onclick', 'goBack()');
            } else {
                btn.setAttribute('onclick', 'history.back()');
            }
        }

        // Initialize - show only main level
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.section-level').forEach(sec => sec.classList.add('hidden'));
            document.getElementById('main-level').classList.remove('hidden');
            $("#mainTitle").html("Aritmia").removeClass('hidden');
            updateBackButton();
        });
    </script>


</body>

</html>