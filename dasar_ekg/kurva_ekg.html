<!DOCTYPE html>
<html lang="id" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I-EKG Smart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .ekg-grid {
            background-image: url("data:image/svg+xml,%3csvg width='20' height='20' xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cpattern id='grid' width='20' height='20' patternUnits='userSpaceOnUse'%3e%3cpath d='M 20 0 L 0 0 0 20' fill='none' stroke='%23ff9999' stroke-width='0.5'/%3e%3c/pattern%3e%3c/defs%3e%3crect width='100%25' height='100%25' fill='url(%23grid)' /%3e%3c/svg%3e");
        }

        .text-paragraf {
            text-indent: 1.5rem;
            margin-bottom: 1rem;
        }
    </style>
</head>

<body class="h-full bg-slate-100 font-sans">

    <div id="app" class="max-w-sm mx-auto bg-white min-h-screen relative overflow-hidden">

        <div id="ekg-normal-page" class="min-h-screen bg-slate-100">
            <div class="px-4 py-3 flex items-center">
                <button onclick="history.back();" id="btnBack"
                    class="bg-blue-500 text-white px-4 py-2 rounded-lg text-sm flex items-center">
                    â† Kembali
                </button>
            </div>

            <div class="p-4">
                <div class="text-center mb-6">
                    <h1 class="text-2xl font-bold text-gray-800">Kurva EKG</span>
                    </h1>
                </div>

                <!-- <div class="bg-white rounded-xl shadow-sm overflow-hidden cursor-pointer mb-6">
                    <div class="p-4 text-justify text-gray-700">
                        <p class="text-paragraf">
                            Kurva EKG menggambarkan proses listrik yang terjadi pada atrium dan ventrikel, EKG normal
                            terdiri dari gelombang P, Q, R, S dan gelombang T, kadang terlihat gelombang U, selain itu
                            ada beberapa interval dan segmen EKG.
                        </p>
                    </div>
                </div> -->

                <div id="grid-section" class="grid grid-cols-2 gap-4">
                    <!-- a. Gelombang P -->
                    <div onclick="showDetail('gelombang-p')" class="bg-white rounded-xl p-4 shadow-sm cursor-pointer">
                        <div class="w-full h-24 bg-blue-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-blue-600 text-2xl">ğŸ”µ</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a. Gelombang P</h3>
                    </div>
                    
                    <div onclick="showDetail('pr-interval')" class="bg-white rounded-xl p-4 shadow-sm cursor-pointer">
                        <div class="w-full h-24 bg-blue-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-blue-600 text-2xl">ğŸ”µ</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">a. P-R Interval</h3>
                    </div>

                    <!-- b. Gelombang QRS -->
                    <div onclick="showDetail('gelombang-qrs')" class="bg-white rounded-xl p-4 shadow-sm cursor-pointer">
                        <div class="w-full h-24 bg-green-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-green-600 text-2xl">ğŸ“‰</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">b. Gelombang QRS</h3>
                    </div>

                    <!-- c. Gelombang Q
                    <div onclick="showDetail('gelombang-q')" class="bg-white rounded-xl p-4 shadow-sm cursor-pointer">
                        <div class="w-full h-24 bg-yellow-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-yellow-600 text-2xl">â¬‡ï¸</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">c. Gelombang Q</h3>
                    </div>

                    d. Gelombang R
                    <div onclick="showDetail('gelombang-r')" class="bg-white rounded-xl p-4 shadow-sm cursor-pointer">
                        <div class="w-full h-24 bg-red-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-red-600 text-2xl">â¬†ï¸</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">d. Gelombang R</h3>
                    </div>

                    e. Gelombang S
                    <div onclick="showDetail('gelombang-s')" class="bg-white rounded-xl p-4 shadow-sm cursor-pointer">
                        <div class="w-full h-24 bg-purple-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-purple-600 text-2xl">ğŸ“‰</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">e. Gelombang S</h3>
                    </div> -->

                    <div onclick="showDetail('segmen-st')" class="bg-white rounded-xl p-4 shadow-sm cursor-pointer">
                        <div class="w-full h-24 bg-purple-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-purple-600 text-2xl">ğŸ“‰</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">e. Segmen ST</h3>
                    </div>

                    <div onclick="showDetail('gelombang-t')" class="bg-white rounded-xl p-4 shadow-sm cursor-pointer">
                        <div class="w-full h-24 bg-purple-100 rounded-lg mb-3 flex items-center justify-center">
                            <span class="text-purple-600 text-2xl">ğŸ“‰</span>
                        </div>
                        <h3 class="font-semibold text-gray-800 text-sm text-center">e. Gelombang T</h3>
                    </div>
                </div>

                <!-- Detail Section -->
                <div id="detail-section" class="hidden bg-white rounded-xl p-6 shadow-sm cursor-pointer">
                    <div id="detail-content" class="text-gray-700 text-justify"></div>
                </div>

                <script>
                    const details = {
                        "gelombang-p": `
            <h3 class="text-lg font-semibold mb-2">ğŸ”µ Gelombang P</h3>
            <img src="../assets/gelombang_p.png" alt="EKG" class="w-full h-auto rounded-lg mb-4"> 
            <p>
                Gelombang P merupakan depolarisasi atrium, normal gelombang P:<br>
                â€¢ Lebar &lt; 0,12 detik<br>
                â€¢ Tinggi &lt; 0,3 mv<br>
                â€¢ Selalu positif di lead II<br>
                â€¢ Negatif di aVR
            </p>
        `,
                        "pr-interval": `
            <h3 class="text-lg font-semibold mb-2">ğŸ”µ P-R Interval</h3>
            <img src="../assets/gelombang_pr.png" alt="EKG" class="w-full h-auto rounded-lg mb-4"> 
            <p>
                Diukur dari awal gelombang P<br>
                sampai  awal kompleks QRS<br>
                Normal : 0,12 â€“ 0,20 detik<br>
            </p>
        `,
                        "gelombang-qrs": `
            <h3 class="text-lg font-semibold mb-2">ğŸ“‰ Gelombang QRS</h3>
            <img src="../assets/gelombang_qrs.png" alt="EKG" class="w-full h-auto rounded-lg mb-4"> 
            <p>
                Gelombang QRS merupakan depolarisasi ventrikel. Normal:<br>
                â€¢ Lebar 0,06 - 0,12 detik<br>
                â€¢ Tinggi tergantung lead<br>
                â€¢ Terdiri dari gelombang Q, R, dan S
            </p>
        `,
                        "gelombang-q": `
            <h3 class="text-lg font-semibold mb-2">â¬‡ï¸ Gelombang Q</h3>
            <p>
                Defleksi negatif pertama pada QRS. Normal:<br>
                â€¢ Lebar &lt; 0,04 detik<br>
                â€¢ Dalamnya &lt; 1/3 tinggi gelombang R
            </p>
        `,
                        "gelombang-r": `
            <h3 class="text-lg font-semibold mb-2">â¬†ï¸ Gelombang R</h3>
            <p>
                Defleksi positif pertama pada QRS. Biasanya positif di lead I, II, V5, V6.
                Di aVR, V1, V2 kecil atau tidak ada sama sekali.
            </p>
        `,
                        "gelombang-s": `
            <h3 class="text-lg font-semibold mb-2">ğŸ“‰ Gelombang S</h3>
            <p>
                Defleksi negatif setelah gelombang R. Di lead aVR dan V1 biasanya dalam.
                Dari V2 sampai V6 makin lama makin kecil atau hilang.
            </p>
        `,
                        "segmen-st": `
            <h3 class="text-lg font-semibold mb-2">ğŸ“‰ Segmen ST</h3>
            <img src="../assets/segment_st.jpg" alt="EKG" class="w-full h-auto rounded-lg mb-4">
            <p class="text-paragraf" >
                Segmen ST merepresentasikan periode antara depolarisasi dan repolarisasi ventrikel. Segmen ini normalnya isoelektrik. Elevasi atau depresi ST dapat menunjukkan iskemia miokard, infark, atau perikarditis. Elevasi ST â‰¥1 mm di dua lead yang berdekatan menandakan STEMI, sedangkan depresi ST menandakan iskemia subendokardial (Surawicz & Knilans, 2019).
Bentuk elevasi ST juga penting. Elevasi ST dengan bentuk cembung ke atas (convex) lebih khas untuk infark, sedangkan bentuk cekung (concave) sering terlihat pada perikarditis. Selain itu, perhatikan adanya reciprocal changes di lead berlawanan (Goldberger, 2017).
Segmen ST juga dipengaruhi oleh elektrolit dan obat. Hiperkalemia dapat menyebabkan elevasi ST semu, sedangkan digitalis menyebabkan depresi ST yang khas (Wagner, 2016).
Analisis segmen ST harus dikombinasikan dengan pemeriksaan klinis dan biomarker. Kesalahan interpretasi dapat berakibat fatal, misalnya salah diagnosis STEMI atau perikarditis (Wellens et al., 2019).

            </p>
        `,
                        "gelombang-t": `
            <h3 class="text-lg font-semibold mb-2">ğŸ“‰ Gelombang T</h3>
            <img src="../assets/gelombang_t.jpg" alt="EKG" class="w-full h-auto rounded-lg mb-4">
            <p class="text-paragraf" >
                Gelombang T menggambarkan repolarisasi otot ventrikel. Saat mengevaluasi gelombang T, lihat amplitude, konfigurasi dan defleksi. Gelombang T normal memiliki karakteristik berikut : (Wolters Kluwer, 2011). <br>
                a)	Lokasi mengikuti gelombang S <br>
                b)	Amplitudo 0,5 mm pada lead I, II, dan III dan sampai 10 mm pada lead precordial <br>
                c)	Konfigurasi biasanya bulat <br>
                d)	Defleksi biasanya tegak lurus pada lead I, II dan V3 sampai V6; terbalik pada lead aVR. <br>

            </p>
        `
                    };

                    function showDetail(key) {
                        document.getElementById('grid-section').classList.add('hidden');
                        document.getElementById('detail-content').innerHTML = details[key];
                        document.getElementById('detail-section').classList.remove('hidden');
                        const btn = document.getElementById('btnBack');
                        btn.removeAttribute('onclick');
                        btn.setAttribute('onclick', 'location.reload()');
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }

                    // Klik detail â†’ kembali ke grid
                    document.getElementById('detail-section').addEventListener('click', function () {
                        this.classList.add('hidden');
                        document.getElementById('grid-section').classList.remove('hidden');
                    });
                </script>

                <script>
                    function toggleAccordion(id) {
                        const content = document.getElementById(id);
                        const allContents = document.querySelectorAll("#accordion > div > div");

                        // Tutup semua panel lain
                        allContents.forEach(el => {
                            if (el.id !== id) el.classList.add("hidden");
                        });

                        // Toggle panel yang diklik
                        content.classList.toggle("hidden");
                    }
                </script>


            </div>
        </div>

    </div>

    <script>
        function redirectPage(route) {
            window.location.href = route;
        }
    </script>
</body>

</html>